# 1.2 string

## 字节存放

Javascript的字符串是使用utf16编码的Unicode字符集。要弄清楚如何存储的，首先我们的知道utf-8与utf-16的区别.[当将文本需要存放到本地进行字节计算，一定要按照utf-16来计算存储空间](http://www.alloyteam.com/2013/12/js-calculate-the-number-of-bytes-occupied-by-a-string/%29。当将文本需要存放到本地进行字节计算，一定要按照utf-16来计算存储空间。).

* utf-8可变长度。可以表示Unicode标准中的任意字符。编码规则如下：
  1. 字符代码范围： 000000 – 00007F, 1个字节编码
  2. 字符代码范围： 000080 – 0007FF, 2个字节编码
  3. 字符代码范围： 000800 – 00D7FF \|\| 00E000 – 00FFFF， 2个字节编码 \(Unicode在范围 D800-DFFF 中不存在任何字符.\)
  4. 字符代码范围： 010000 – 10FFFF, 4个字节编码
* utf-16 定长的字符编码。大部分字符使用2个字节编码，字符代码超出65535的使用4个字节。
  1. 字符代码范围： 000000 – 00FFFF ，2个字节编码
  2. 字符代码范围： 010000 – 10FFFF ， 4个字节编码

## 创建

string的创建例子该步骤的解析过程为如下\(在实际写代码的过程中，js中的字符串一般使用单引号，而html属性字符串使用双引号\)。

```
var a = 'begin'; // 在堆内存定义一个变量a, 在栈内存中存放字符串"begin",并将a指向b.
a = a + 'end'; // 在栈内存创建"end"字符串，然后再创建一个"begin"+"end" => "beginend"的字符串，并将a变量指向"beginend"，而"begin"和"end"字符串不再有引用，随即等待js垃圾回收。
```

## 转换

| 类型 | 转换规则 |
| :--- | :--- |
| number | var a = 10; a.toString\(\);在toString\(\)中可以传入2,8,10,16.表示进制\(我认为是先将number转为相应的进制数，再转为string\) |
| null, undefined | 本身没有方法，需要使用String\(\)进行转换。String\(null\) =&gt; "null" , String\(undefined\) =&gt; "undefined" |

* * boolean : var a = false; a.toString\(\); =&gt; "false"
* null, undefined: 它们没有相应的方法，需要使用String\(\)进行转换。String\(null\) =&gt; "null", String\(undefined\) =&gt; "undefined"
* array\(对象\): 先调用自身身上的toString\(\). 没有则调用原型链上的toString\(\)

## 常用方法

javascript中的方法

* 截取
  1. substring\(start, end\): 左闭右开，参数不为负，不改变原始值
  2. slice\(start, end\): 左闭右开，参数可为负，不改变原始值
  3. substr\(start, length\): start可为负，不改变原始值
  4. split\(\[separator\], \[, limit\]\): separator：分隔符，limit:限制返回个数
* 查找类
  1. charAt\(index\): 结果：index位置的值
  2. indexOf\(searchValue, fromIndex\): 结果：首次出现位置
  3. includes\(searchValue\[, postion\]\): es6，包含true,否则false
  4. lastIndexOf\(searchValue, fromIndex\): 结果：最后出现位置 
  5. search\(regexp/substr\): 结果：首次匹配位置
  6. match\(regexp/substr\):
     * 非全局匹配：首次匹配的内容\(返回内容格式：\["匹配内容", firstIndex\(1\), input:the origin data\]\),无结果为null
     * 全局匹配： 返回匹配内容数组，没有index和原始数据。无结果为空
* 工具类
  1. replace\(regexp/substr, replacement\): 第一个参数可设置全局替换
  2. toLowerCase\(\), toUpperCase\(\)
  3. concat\(str, str2, ...\)
  4. reverse\(\)
  5. join\(\)
* es6
  1. 模板字符串`${a}`
  2. startsWith\(\)
  3. endsWith\(\)



